import{t as O,r as m,i as S,j as e,B as h,w as A,x as D,y as p,z as f,C as l,a as c,b as o,U as L,c as d,ah as K,D as _,p as k,P as F,k as E,q as z,ao as x,F as q,I as C}from"./index-Dsch-6rs.js";import{P as U}from"./plus-CRp7_VfK.js";import{M as G}from"./map-pin-Du8NuVPX.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=O("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=O("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]),g=5e5,N=2e5,v=3e5,V=[{id:1,teamMemberId:"TM001",name:"Ana García",position:"Senior Recruiter",email:"ana.garcia@company.com",location:"Bogotá, Colombia",skills:["Technical Recruiting","Leadership","Data Analysis"],incapacidades:[],oneOnOneSessions:[{id:1,date:"2024-01-15",discussionPoints:["Review of Q4 performance metrics","Discussion of career development goals","Feedback on team collaboration"],actionItems:["Complete advanced recruiting certification","Mentor new team member","Implement new candidate tracking system"]}]},{id:2,teamMemberId:"TM002",name:"Carlos Rodríguez",position:"HR Specialist",email:"carlos.rodriguez@company.com",location:"Medellín, Colombia",skills:["Employee Relations","Compliance","Training"],incapacidades:[{id:1,reason:"Medical leave",startDate:"2024-01-20",endDate:"2024-01-25"}],oneOnOneSessions:[{id:2,date:"2024-01-10",discussionPoints:["Process improvement initiatives","Training program effectiveness","Work-life balance discussion"],actionItems:["Design new onboarding process","Schedule training workshops","Review current workload distribution"]}]}],W=[{id:1,name:"María Fernández",company:"Tech Innovations Ltd",email:"maria@techinnovations.com",phone:"+57 300 123 4567",kpis:[{id:1,name:"Monthly Revenue Target",target:5e7,actual:45e6,met:!1},{id:2,name:"New Client Acquisitions",target:10,actual:12,met:!0},{id:3,name:"Customer Satisfaction Score",target:90,actual:92,met:!0}]},{id:2,name:"Roberto Silva",company:"Global Solutions Corp",email:"roberto@globalsolutions.com",phone:"+57 301 987 6543",kpis:[{id:4,name:"Project Completion Rate",target:95,actual:98,met:!0},{id:5,name:"Team Productivity Index",target:85,actual:82,met:!1},{id:6,name:"Cost Reduction Target",target:15,actual:18,met:!0}]},{id:3,name:"Laura Moreno",company:"Digital Marketing Pro",email:"laura@digitalmarketing.com",phone:"+57 302 555 7890",kpis:[{id:7,name:"Campaign ROI",target:300,actual:350,met:!0},{id:8,name:"Lead Generation",target:500,actual:475,met:!1},{id:9,name:"Brand Awareness Score",target:70,actual:75,met:!0}]}];function ee(){m.useEffect(()=>{document.title="Commission Tracking - ClientHub AI"},[]);const{data:M=[]}=S({queryKey:["/api/team-members"],staleTime:3e4});S({queryKey:["/api/clients"],staleTime:3e4});const[a,j]=m.useState({teamMemberCount:0,performanceMet:2,newPositions:1,totalCommission:0});m.useEffect(()=>{j(s=>({...s,teamMemberCount:M.length}))},[M]);const[J,R]=m.useState(null);m.useState({name:"",target:0,actual:0});const[X,B]=m.useState(null),P=()=>{const s=a.teamMemberCount*g,t=a.performanceMet*N,n=a.newPositions*v;return s+t+n},i=s=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(s),y=s=>!s||s.length===0?0:s.filter(n=>n.met).length/s.length*100,b=P();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Commission Tracking Dashboard"}),e.jsxs(h,{variant:"secondary",className:"text-lg px-4 py-2",children:["Total: ",i(b)]})]}),e.jsxs(A,{defaultValue:"overview",className:"space-y-6",children:[e.jsxs(D,{className:"grid w-full grid-cols-4",children:[e.jsx(p,{value:"overview",children:"Overview"}),e.jsx(p,{value:"kpis",children:"KPI Management"}),e.jsx(p,{value:"team",children:"Team Members"}),e.jsx(p,{value:"calculator",children:"Calculator"})]}),e.jsxs(f,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(l,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Team Members"}),e.jsx(L,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.teamMemberCount}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i(g)," per member"]})]})]}),e.jsxs(l,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Performance Bonus"}),e.jsx(K,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.performanceMet}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i(N)," per achievement"]})]})]}),e.jsxs(l,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"New Positions"}),e.jsx(H,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold",children:a.newPositions}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i(v)," per position"]})]})]}),e.jsxs(l,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Total Commission"}),e.jsx(_,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(d,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:i(b)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Monthly commission"})]})]})]}),e.jsxs(l,{children:[e.jsx(c,{children:e.jsx(o,{children:"Commission Breakdown"})}),e.jsx(d,{className:"space-y-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Base Commission (",a.teamMemberCount," members)"]}),e.jsx("span",{children:i(a.teamMemberCount*g)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["Performance Bonus (",a.performanceMet," achievements)"]}),e.jsx("span",{children:i(a.performanceMet*N)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:["New Position Bonus (",a.newPositions," positions)"]}),e.jsx("span",{children:i(a.newPositions*v)})]}),e.jsx(k,{}),e.jsxs("div",{className:"flex justify-between font-bold",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:i(b)})]})]})})]})]}),e.jsxs(f,{value:"kpis",className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Client KPI Management"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:W.map(s=>{var t;return e.jsxs(l,{children:[e.jsxs(c,{children:[e.jsxs(o,{className:"flex items-center justify-between",children:[e.jsx("span",{children:s.company}),e.jsxs(h,{variant:y(s.kpis||[])>75?"default":"secondary",children:[Math.round(y(s.kpis||[])),"% Complete"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.name})]}),e.jsxs(d,{className:"space-y-4",children:[e.jsx(F,{value:y(s.kpis||[]),className:"w-full"}),e.jsx("div",{className:"space-y-3",children:(t=s.kpis)==null?void 0:t.map(n=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:n.name}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Target: ",n.target.toLocaleString()," | Actual: ",n.actual.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(h,{variant:n.met?"default":"destructive",children:n.met?"Met":"Not Met"}),e.jsx(E,{size:"sm",variant:"ghost",onClick:()=>R({clientId:s.id,kpiId:n.id}),children:e.jsx(Q,{className:"h-4 w-4"})})]})]},n.id))}),e.jsxs(E,{variant:"outline",size:"sm",onClick:()=>B(s.id),className:"w-full",children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Add KPI"]})]})]},s.id)})})]}),e.jsxs(f,{value:"team",className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Enhanced Team Member Profiles"}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:V.map(s=>{var t,n,I,T;return e.jsxs(l,{children:[e.jsxs(c,{children:[e.jsxs(o,{className:"flex items-center justify-between",children:[e.jsx("span",{children:s.name}),e.jsx(h,{variant:"secondary",children:s.teamMemberId})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.position})]}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:s.email})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:s.location})]})]}),e.jsxs("div",{children:[e.jsx(x,{className:"text-sm font-medium",children:"Skills"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:(t=s.skills)==null?void 0:t.map((r,u)=>e.jsx(h,{variant:"outline",className:"text-xs",children:r},u))})]}),e.jsxs("div",{children:[e.jsx(x,{className:"text-sm font-medium",children:"Incapacidades"}),e.jsx("div",{className:"mt-1 space-y-1",children:((n=s.incapacidades)==null?void 0:n.length)===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:"None registered"}):(I=s.incapacidades)==null?void 0:I.map(r=>e.jsxs("div",{className:"text-sm p-2 bg-muted rounded",children:[e.jsx("div",{className:"font-medium",children:r.reason}),e.jsxs("div",{className:"text-muted-foreground",children:[r.startDate," to ",r.endDate]})]},r.id))})]}),e.jsxs("div",{children:[e.jsx(x,{className:"text-sm font-medium",children:"Recent 1-on-1 Sessions"}),e.jsx("div",{className:"mt-1 space-y-2",children:(T=s.oneOnOneSessions)==null?void 0:T.map(r=>e.jsxs("div",{className:"text-sm p-3 border rounded",children:[e.jsxs("div",{className:"font-medium flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4"}),r.date]}),e.jsxs("div",{className:"mt-1",children:[e.jsx("div",{className:"text-muted-foreground",children:"Discussion Points:"}),e.jsx("ul",{className:"list-disc list-inside ml-2",children:r.discussionPoints.map((u,w)=>e.jsx("li",{className:"text-sm",children:u},w))})]}),e.jsxs("div",{className:"mt-1",children:[e.jsx("div",{className:"text-muted-foreground",children:"Action Items:"}),e.jsx("ul",{className:"list-disc list-inside ml-2",children:r.actionItems.map((u,w)=>e.jsx("li",{className:"text-sm",children:u},w))})]})]},r.id))})]})]})]},s.id)})})]}),e.jsx(f,{value:"calculator",className:"space-y-6",children:e.jsxs(l,{children:[e.jsx(c,{children:e.jsx(o,{children:"Commission Calculator"})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"teamCount",children:"Team Members"}),e.jsx(C,{id:"teamCount",type:"number",value:a.teamMemberCount,onChange:s=>j(t=>({...t,teamMemberCount:parseInt(s.target.value)||0}))}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i(g)," per member"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"performanceCount",children:"Performance Achievements"}),e.jsx(C,{id:"performanceCount",type:"number",value:a.performanceMet,onChange:s=>j(t=>({...t,performanceMet:parseInt(s.target.value)||0}))}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i(N)," per achievement"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"newPositions",children:"New Positions"}),e.jsx(C,{id:"newPositions",type:"number",value:a.newPositions,onChange:s=>j(t=>({...t,newPositions:parseInt(s.target.value)||0}))}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[i(v)," per position"]})]})]}),e.jsx(k,{}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600",children:i(P())}),e.jsx("p",{className:"text-muted-foreground",children:"Total Monthly Commission"})]})]})]})})]})]})}export{ee as default};
