import{r as l,i as p,j as e,k as u,au as F,C as n,c,g as j,a as d,av as y,b as o,B as i,ai as $,e as w,P as K,M as B,D as O,U,o as V,G as q,T as _}from"./index-Dsch-6rs.js";import{S as H,a as J,b as z,c as G,d as x}from"./select-DXDaqklB.js";import{D as Q}from"./download-DY9g1xt9.js";import{T as b}from"./trending-down-C3Y1KYEz.js";import"./Combination-Cg6MJVDY.js";import"./index-CJCVC222.js";const X=[{title:"Revenue Pipeline",value:"$2.4M",change:15.2,changeType:"increase",icon:O,color:"text-green-600",subtitle:"Q4 Projection"},{title:"Client Retention",value:"94.2%",change:2.1,changeType:"increase",icon:U,color:"text-blue-600",subtitle:"30-day average"},{title:"Team Productivity",value:"87%",change:-3.2,changeType:"decrease",icon:V,color:"text-orange-600",subtitle:"Efficiency Score"},{title:"Response Time",value:"2.3h",change:12.5,changeType:"decrease",icon:w,color:"text-purple-600",subtitle:"Average"}],Y=[{id:"1",type:"opportunity",title:"Upselling Opportunity Detected",description:"Client 'TechCorp' shows 85% probability for premium package upgrade based on usage patterns and engagement metrics.",confidence:85,impact:"high",timeframe:"Next 2 weeks",actionItems:["Schedule executive meeting with TechCorp leadership","Prepare custom ROI analysis for premium features","Share success stories from similar enterprise clients"]},{id:"2",type:"risk",title:"Churn Risk Alert",description:"Client 'StartupXYZ' shows decreased engagement (-40%) and delayed responses. 72% probability of churn within 30 days.",confidence:72,impact:"medium",timeframe:"Next 30 days",actionItems:["Immediate check-in call with account manager","Review service delivery and identify pain points","Offer additional support or training resources"]},{id:"3",type:"trend",title:"Market Expansion Opportunity",description:"Analysis indicates 67% success probability for expanding into healthcare sector based on current client portfolio patterns.",confidence:67,impact:"high",timeframe:"Next quarter",actionItems:["Conduct market research in healthcare sector","Develop healthcare-specific case studies","Identify potential healthcare industry contacts"]}],Z=[{name:"Alice Wilson",efficiency:92,clientSatisfaction:4.8,tasksCompleted:47,revenue:245e3},{name:"Bob Johnson",efficiency:88,clientSatisfaction:4.6,tasksCompleted:43,revenue:198e3},{name:"Carol Davis",efficiency:85,clientSatisfaction:4.7,tasksCompleted:39,revenue:156e3},{name:"David Brown",efficiency:91,clientSatisfaction:4.9,tasksCompleted:51,revenue:278e3},{name:"Eva Martinez",efficiency:87,clientSatisfaction:4.5,tasksCompleted:41,revenue:189e3}],W=[{month:"Jan",actual:18e4,predicted:185e3,pipeline:22e4},{month:"Feb",actual:195e3,predicted:2e5,pipeline:245e3},{month:"Mar",actual:21e4,predicted:215e3,pipeline:265e3},{month:"Apr",actual:225e3,predicted:23e4,pipeline:285e3},{month:"May",actual:0,predicted:245e3,pipeline:31e4},{month:"Jun",actual:0,predicted:26e4,pipeline:335e3}];function le(){const[C,T]=l.useState("30d");l.useState("revenue");const[f,g]=l.useState(!1);l.useEffect(()=>{document.title="Analytics - ClientHub AI"},[]);const{data:m=[]}=p({queryKey:["/api/clients"],staleTime:3e4}),{data:r=[]}=p({queryKey:["/api/tasks"],staleTime:3e4}),{data:a}=p({queryKey:["/api/statistics"],staleTime:3e4});l.useMemo(()=>{const s=m.reduce((h,P)=>{var N;return h+(((N=P.kpis)==null?void 0:N.reduce((D,M)=>D+(M.actual||0),0))||0)},0),t=r.filter(h=>h.status==="completed").length,v=r.length,E=v>0?t/v*100:0,I=(a==null?void 0:a.avgResponseTime)||2.3,A=(a==null?void 0:a.clientRetention)||94.2;return{revenue:s,completionRate:E,avgResponseTime:I,clientRetention:A,totalClients:m.length,totalTasks:r.length}},[m,r,a]);const R=async()=>{g(!0),await new Promise(s=>setTimeout(s,2e3)),g(!1)},S=s=>{switch(s){case"opportunity":return e.jsx(j,{className:"h-5 w-5 text-green-600"});case"risk":return e.jsx(_,{className:"h-5 w-5 text-red-600"});case"trend":return e.jsx(q,{className:"h-5 w-5 text-blue-600"});default:return e.jsx(y,{className:"h-5 w-5"})}},k=s=>s>=80?"text-green-600 bg-green-100":s>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-900",children:"Executive Analytics"}),e.jsx("p",{className:"text-slate-600 mt-1",children:"AI-powered business intelligence and predictive insights"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(H,{value:C,onValueChange:T,children:[e.jsx(J,{className:"w-32",children:e.jsx(z,{})}),e.jsxs(G,{children:[e.jsx(x,{value:"7d",children:"7 Days"}),e.jsx(x,{value:"30d",children:"30 Days"}),e.jsx(x,{value:"90d",children:"90 Days"}),e.jsx(x,{value:"1y",children:"1 Year"})]})]}),e.jsxs(u,{onClick:R,disabled:f,variant:"outline",children:[e.jsx(F,{className:`h-4 w-4 mr-2 ${f?"animate-spin":""}`}),"Refresh"]}),e.jsxs(u,{children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Export Report"]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:X.map((s,t)=>e.jsx(n,{className:"border-0 shadow-lg",children:e.jsxs(c,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-600",children:s.title}),e.jsx("p",{className:"text-3xl font-bold text-slate-900 mt-1",children:s.value}),s.subtitle&&e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:s.subtitle})]}),e.jsx("div",{className:`p-3 rounded-full bg-slate-50 ${s.color}`,children:e.jsx(s.icon,{className:"h-6 w-6"})})]}),e.jsxs("div",{className:"flex items-center mt-4",children:[s.changeType==="increase"?e.jsx(j,{className:"h-4 w-4 text-green-600 mr-1"}):e.jsx(b,{className:"h-4 w-4 text-red-600 mr-1"}),e.jsxs("span",{className:`text-sm font-medium ${s.changeType==="increase"?"text-green-600":"text-red-600"}`,children:[Math.abs(s.change),"%"]}),e.jsx("span",{className:"text-sm text-slate-500 ml-1",children:"vs last period"})]})]})},t))}),e.jsxs(n,{className:"border-0 shadow-lg",children:[e.jsx(d,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"h-6 w-6 text-blue-600"}),e.jsx(o,{children:"AI-Powered Predictive Insights"})]}),e.jsxs(i,{className:"bg-blue-100 text-blue-700",children:[e.jsx($,{className:"h-3 w-3 mr-1"}),"Real-time Analysis"]})]})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:Y.map((s,t)=>e.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[S(s.type),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:s.title}),e.jsx("p",{className:"text-sm text-slate-600 mt-1",children:s.description})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(i,{variant:"outline",className:k(s.confidence),children:[s.confidence,"% confidence"]}),e.jsxs(i,{variant:s.impact==="high"?"default":"secondary",children:[s.impact," impact"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-slate-500",children:[e.jsx(w,{className:"h-4 w-4 inline mr-1"}),s.timeframe]}),e.jsx(u,{variant:"outline",size:"sm",children:"View Action Plan"})]})]},s.id))})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(n,{className:"border-0 shadow-lg",children:[e.jsx(d,{children:e.jsx(o,{children:"Team Performance Matrix"})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:Z.map((s,t)=>e.jsxs("div",{className:"border border-slate-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-slate-900",children:s.name}),e.jsxs(i,{variant:"outline",children:["$",(s.revenue/1e3).toFixed(0),"K revenue"]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-600",children:"Efficiency"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(K,{value:s.efficiency,className:"flex-1"}),e.jsxs("span",{className:"font-medium",children:[s.efficiency,"%"]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-600",children:"Satisfaction"}),e.jsxs("p",{className:"font-medium text-slate-900 mt-1",children:["⭐ ",s.clientSatisfaction,"/5.0"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-600",children:"Tasks"}),e.jsxs("p",{className:"font-medium text-slate-900 mt-1",children:[s.tasksCompleted," completed"]})]})]})]},t))})})]}),e.jsxs(n,{className:"border-0 shadow-lg",children:[e.jsx(d,{children:e.jsx(o,{children:"Revenue Forecast & Pipeline"})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:W.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-slate-100 last:border-b-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-medium text-slate-900 w-12",children:s.month}),e.jsxs("div",{className:"flex items-center gap-4",children:[s.actual>0&&e.jsxs(i,{variant:"default",className:"bg-green-100 text-green-700",children:["$",(s.actual/1e3).toFixed(0),"K actual"]}),e.jsxs(i,{variant:"outline",children:["$",(s.predicted/1e3).toFixed(0),"K predicted"]}),e.jsxs(i,{variant:"secondary",children:["$",(s.pipeline/1e3).toFixed(0),"K pipeline"]})]})]}),e.jsx("div",{className:"text-right",children:s.actual>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[s.actual>=s.predicted?e.jsx(j,{className:"h-4 w-4 text-green-600"}):e.jsx(b,{className:"h-4 w-4 text-red-600"}),e.jsxs("span",{className:`text-sm ${s.actual>=s.predicted?"text-green-600":"text-red-600"}`,children:[((s.actual/s.predicted-1)*100).toFixed(1),"%"]})]})})]},t))})})]})]}),e.jsxs(n,{className:"border-0 shadow-lg",children:[e.jsx(d,{children:e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5"}),"Communication Intelligence"]})}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"94%"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Sentiment Analysis"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Positive client interactions"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"2.1h"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Avg Response Time"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"15% improvement this month"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"87%"}),e.jsx("p",{className:"text-sm text-slate-600",children:"Resolution Rate"}),e.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"First contact resolution"})]})]})})]})]})}export{le as default};
