import{O as K,r as i,j as e,X as v,Y as V,ar as X,ac as d,as as A,h as J,u as U,i as Z,ak as ee,am as x,k as y,s as ae}from"./index-Dsch-6rs.js";import{u as te}from"./useMutation-CWIftKBJ.js";import{c as se}from"./ai-Jk9rb3ej.js";import{c as D,T as oe,O as le,W as re,C as ie,a as ne,D as ce,b as N,P as de,R as pe}from"./index-8CgwoEGl.js";import{T as me}from"./trash-2-lv8BEhhS.js";import{C as ue}from"./copy-CaaOG6R5.js";import"./Combination-Cg6MJVDY.js";var h="AlertDialog",[fe,Ie]=K(h,[D]),n=D(),j=t=>{const{__scopeAlertDialog:a,...s}=t,o=n(a);return e.jsx(pe,{...o,...s,modal:!0})};j.displayName=h;var ge="AlertDialogTrigger",xe=i.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...o}=t,r=n(s);return e.jsx(oe,{...r,...o,ref:a})});xe.displayName=ge;var ye="AlertDialogPortal",C=t=>{const{__scopeAlertDialog:a,...s}=t,o=n(a);return e.jsx(de,{...o,...s})};C.displayName=ye;var ve="AlertDialogOverlay",b=i.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...o}=t,r=n(s);return e.jsx(le,{...r,...o,ref:a})});b.displayName=ve;var m="AlertDialogContent",[Ae,De]=fe(m),Ne=X("AlertDialogContent"),T=i.forwardRef((t,a)=>{const{__scopeAlertDialog:s,children:o,...r}=t,p=n(s),c=i.useRef(null),g=v(a,c),f=i.useRef(null);return e.jsx(re,{contentName:m,titleName:w,docsSlug:"alert-dialog",children:e.jsx(Ae,{scope:s,cancelRef:f,children:e.jsxs(ie,{role:"alertdialog",...p,...r,ref:g,onOpenAutoFocus:V(r.onOpenAutoFocus,l=>{var u;l.preventDefault(),(u=f.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:l=>l.preventDefault(),onInteractOutside:l=>l.preventDefault(),children:[e.jsx(Ne,{children:o}),e.jsx(je,{contentRef:c})]})})})});T.displayName=m;var w="AlertDialogTitle",R=i.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...o}=t,r=n(s);return e.jsx(ne,{...r,...o,ref:a})});R.displayName=w;var E="AlertDialogDescription",_=i.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...o}=t,r=n(s);return e.jsx(ce,{...r,...o,ref:a})});_.displayName=E;var he="AlertDialogAction",S=i.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...o}=t,r=n(s);return e.jsx(N,{...r,...o,ref:a})});S.displayName=he;var P="AlertDialogCancel",O=i.forwardRef((t,a)=>{const{__scopeAlertDialog:s,...o}=t,{cancelRef:r}=De(P,s),p=n(s),c=v(a,r);return e.jsx(N,{...p,...o,ref:c})});O.displayName=P;var je=({contentRef:t})=>{const a=`\`${m}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${m}\` by passing a \`${E}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${m}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return i.useEffect(()=>{var o;document.getElementById((o=t.current)==null?void 0:o.getAttribute("aria-describedby"))||console.warn(a)},[a,t]),null},Ce=j,be=C,$=b,M=T,I=S,k=O,F=R,z=_;const Te=Ce,we=be,G=i.forwardRef(({className:t,...a},s)=>e.jsx($,{className:d("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...a,ref:s}));G.displayName=$.displayName;const q=i.forwardRef(({className:t,...a},s)=>e.jsxs(we,{children:[e.jsx(G,{}),e.jsx(M,{ref:s,className:d("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a})]}));q.displayName=M.displayName;const L=({className:t,...a})=>e.jsx("div",{className:d("flex flex-col space-y-2 text-center sm:text-left",t),...a});L.displayName="AlertDialogHeader";const H=({className:t,...a})=>e.jsx("div",{className:d("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a});H.displayName="AlertDialogFooter";const B=i.forwardRef(({className:t,...a},s)=>e.jsx(F,{ref:s,className:d("text-lg font-semibold",t),...a}));B.displayName=F.displayName;const Q=i.forwardRef(({className:t,...a},s)=>e.jsx(z,{ref:s,className:d("text-sm text-muted-foreground",t),...a}));Q.displayName=z.displayName;const W=i.forwardRef(({className:t,...a},s)=>e.jsx(I,{ref:s,className:d(A(),t),...a}));W.displayName=I.displayName;const Y=i.forwardRef(({className:t,...a},s)=>e.jsx(k,{ref:s,className:d(A({variant:"outline"}),"mt-2 sm:mt-0",t),...a}));Y.displayName=k.displayName;function Re({open:t,onOpenChange:a,title:s,description:o,onConfirm:r,confirmText:p="Confirm",cancelText:c="Cancel"}){return e.jsx(Te,{open:t,onOpenChange:a,children:e.jsxs(q,{children:[e.jsxs(L,{children:[e.jsx(B,{children:s}),e.jsx(Q,{children:o})]}),e.jsxs(H,{children:[e.jsx(Y,{children:c}),e.jsx(W,{onClick:r,children:p})]})]})})}function ke(){const t=J(),{toast:a}=U(),[s,o]=i.useState(null),{data:r=[]}=Z({queryKey:["/api/email-templates"]}),p=te({mutationFn:async l=>(await ae("DELETE",`/api/email-templates/${l}`)).json(),onSuccess:()=>{t.invalidateQueries({queryKey:["/api/email-templates"]}),a({title:"Success",description:"Template deleted successfully!"})},onError:()=>{a({title:"Error",description:"Failed to delete template",variant:"destructive"})}}),c=async l=>{const u=await se(l);a(u?{title:"Copied!",description:"Template body copied to clipboard"}:{title:"Copy failed",description:"Failed to copy template to clipboard",variant:"destructive"})},g=l=>{o(l)},f=()=>{s&&(p.mutate(s),o(null))};return e.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:ee,children:"Email Templates Gallery"}),e.jsx("p",{className:"text-slate-600",children:"Store and reuse your frequently used email templates"})]}),r.length===0?e.jsx("div",{className:x,children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("p",{className:"text-slate-500",children:"No email templates found."}),e.jsx("p",{className:"text-sm text-slate-400 mt-2",children:'Generate templates from the "Analyze Email" tab to see them here.'})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(l=>e.jsxs("div",{className:x,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h3",{className:"font-semibold text-slate-900 line-clamp-2",children:l.title}),e.jsx(y,{variant:"ghost",size:"sm",onClick:()=>g(l.id),className:"text-slate-400 hover:text-red-500 shrink-0",children:e.jsx(me,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"text-sm text-slate-600 mb-4 line-clamp-3",children:l.body}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(y,{variant:"outline",size:"sm",onClick:()=>c(l.body),className:"flex items-center space-x-1",children:[e.jsx(ue,{className:"w-3 h-3"}),e.jsx("span",{children:"Copy Body"})]}),l.isAiGenerated&&e.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"AI Generated"})]})]},l.id))}),e.jsx(Re,{open:s!==null,onOpenChange:l=>!l&&o(null),title:"Delete Template",description:"Are you sure you want to delete this template? This action cannot be undone.",onConfirm:f,confirmText:"Delete",cancelText:"Cancel"})]})})}export{ke as Templates};
