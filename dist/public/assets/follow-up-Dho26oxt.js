import{h as v,u as y,r as s,j as e,ak as N,am as c,ao as u,I as b,al as S,s as C}from"./index-Dsch-6rs.js";import{A as F}from"./action-button-_bigQsZt.js";import{T as d}from"./textarea-with-copy-CfuLPcBf.js";import{M as E}from"./message-Q1lGs_wZ.js";import"./textarea-dxwQGyzt.js";import"./ai-Jk9rb3ej.js";import"./copy-CaaOG6R5.js";function A(){const m=v(),{toast:t}=y(),[o,p]=s.useState(""),[a,x]=s.useState(`- Project is 70% complete
- Need to discuss timeline adjustment
- Waiting for client feedback on design mockups
- Schedule next milestone review meeting`),[i,h]=s.useState(""),[f,n]=s.useState(!1),[j,r]=s.useState(!1),w=async()=>{if(!a.trim()){t({title:"Error",description:"Please enter some points to include in the follow-up",variant:"destructive"});return}n(!0),r(!1);try{const g=await(await C("POST","/api/ai/generate-followup",{subject:o,notes:a})).json();h(g.followupEmail),r(!0),m.invalidateQueries({queryKey:["/api/statistics"]}),t({title:"Success",description:"Follow-up email generated successfully!"})}catch{t({title:"Error",description:"Failed to generate follow-up",variant:"destructive"})}finally{n(!1)}};return e.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:N,children:"Generate Follow-up"}),e.jsx("p",{className:"text-slate-600",children:"Create contextually relevant follow-up emails"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:c,children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Follow-up Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(u,{htmlFor:"subject",children:"Subject/Context (Optional)"}),e.jsx(b,{id:"subject",value:o,onChange:l=>p(l.target.value),placeholder:"e.g., Project status update, Meeting follow-up"})]}),e.jsxs("div",{children:[e.jsx(u,{htmlFor:"notes",children:"Specific Points to Include"}),e.jsx(d,{value:a,onChange:x,placeholder:"Enter any specific points, updates, or questions you want to include in the follow-up...",rows:6})]})]}),e.jsx(F,{onClick:w,loading:f,variant:"success",icon:S,className:"w-full mt-4",children:"Generate Follow-up Email"})]}),e.jsxs("div",{className:c,children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Generated Follow-up"}),e.jsx(d,{value:i,placeholder:"Generated follow-up email will appear here...",rows:14,readonly:!0,className:"mb-4 bg-slate-50"}),j&&i&&e.jsx(E,{type:"success",children:"Follow-up email generated successfully! Communication count updated."})]})]})]})})}export{A as FollowUp};
