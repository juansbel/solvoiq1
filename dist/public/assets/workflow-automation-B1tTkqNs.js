import{t as y,r as m,u as G,j as e,k as t,ao as c,I as f,p as w,C as n,q as C,w as F,x as Y,y as g,z as h,U as Z,e as T,H as W,a as u,b as j,B as d,c as p,aj as S,ai as J,l as K,aw as Q}from"./index-Dsch-6rs.js";import{T as X}from"./textarea-dxwQGyzt.js";import{S as D,a as A,b as R,c as _,d as i}from"./select-DXDaqklB.js";import{D as I,a as ee,b as P,c as M,d as z}from"./dialog-DSRUCjP6.js";import{P as E}from"./plus-CRp7_VfK.js";import{T as se}from"./trash-2-lv8BEhhS.js";import{D as O}from"./database-DfFHlLcX.js";import{P as L,a as ae}from"./play-IYu6LyWG.js";import{S as te}from"./square-pen-BNtb5a4z.js";import"./Combination-Cg6MJVDY.js";import"./index-CJCVC222.js";import"./index-8CgwoEGl.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=y("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=y("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=y("Webhook",[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]]),le=[{id:"1",name:"Client Onboarding Automation",description:"Automatically send welcome email and create initial tasks when new client is added",status:"active",trigger:{id:"t1",type:"event",config:{event:"client_created"}},actions:[{id:"a1",type:"email",config:{template:"welcome_client",recipient:"client_email",subject:"Welcome to our platform!"}},{id:"a2",type:"task",config:{template:"onboarding_checklist"}}],lastRun:new Date("2024-01-15T10:30:00"),runCount:24,successRate:95.8,created:new Date("2024-01-01")},{id:"2",name:"Weekly Progress Reports",description:"Generate and send weekly progress reports to team leads",status:"active",trigger:{id:"t2",type:"schedule",config:{schedule:"0 9 * * 1"}},actions:[{id:"a3",type:"data_update",config:{data:"generate_reports"}},{id:"a4",type:"email",config:{template:"weekly_report",recipient:"team_leads",subject:"Weekly Progress Report"}}],lastRun:new Date("2024-01-22T09:00:00"),runCount:8,successRate:100,created:new Date("2023-12-15")}];function ve(){var k;const[a,o]=m.useState(null),[B,x]=m.useState(!1),[H,V]=m.useState("workflows"),{toast:v}=G(),N=s=>{switch(s){case"active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"inactive":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300";case"draft":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},b=s=>{switch(s){case"schedule":return T;case"event":return J;case"webhook":return ie;case"manual":return L;default:return S}},U=s=>{switch(s){case"email":return C;case"task":return re;case"notification":return K;case"api_call":return O;case"data_update":return W;default:return S}},$=({workflow:s})=>{const r=b(s.trigger.type);return e.jsxs(n,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow cursor-pointer",onClick:()=>o(s),children:[e.jsx(u,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded-lg",children:e.jsx(q,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{children:[e.jsx(j,{className:"text-lg font-semibold text-gray-900 dark:text-white",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:s.description})]})]}),e.jsx(d,{className:N(s.status),children:s.status})]})}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{className:"h-4 w-4 text-gray-400"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 capitalize",children:s.trigger.type.replace("_"," ")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-gray-400"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:[s.actions.length," action",s.actions.length!==1?"s":""]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100 dark:border-gray-800",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.runCount," runs â€¢ ",s.successRate,"% success"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{variant:"ghost",size:"sm",onClick:l=>{l.stopPropagation(),v({title:s.status==="active"?"Workflow Paused":"Workflow Activated",description:`${s.name} is now ${s.status==="active"?"inactive":"active"}.`})},children:s.status==="active"?e.jsx(ae,{className:"h-4 w-4"}):e.jsx(L,{className:"h-4 w-4"})}),e.jsx(t,{variant:"ghost",size:"sm",onClick:l=>{l.stopPropagation(),o(s)},children:e.jsx(te,{className:"h-4 w-4"})})]})]})]})]})};return e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Workflow Automation"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Automate repetitive tasks and streamline business processes"})]}),e.jsxs(I,{open:B,onOpenChange:x,children:[e.jsx(ee,{asChild:!0,children:e.jsxs(t,{children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Create Workflow"]})}),e.jsxs(P,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(M,{children:e.jsx(z,{children:"Create New Workflow"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Workflow Name"}),e.jsx(f,{placeholder:"Enter workflow name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Status"}),e.jsxs(D,{defaultValue:"draft",children:[e.jsx(A,{children:e.jsx(R,{})}),e.jsxs(_,{children:[e.jsx(i,{value:"draft",children:"Draft"}),e.jsx(i,{value:"active",children:"Active"}),e.jsx(i,{value:"inactive",children:"Inactive"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Description"}),e.jsx(X,{placeholder:"Describe what this workflow does",rows:3})]}),e.jsx(w,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Trigger"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Trigger Type"}),e.jsxs(D,{defaultValue:"event",children:[e.jsx(A,{children:e.jsx(R,{})}),e.jsxs(_,{children:[e.jsx(i,{value:"schedule",children:"Schedule"}),e.jsx(i,{value:"event",children:"Event"}),e.jsx(i,{value:"webhook",children:"Webhook"}),e.jsx(i,{value:"manual",children:"Manual"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Configuration"}),e.jsx(f,{placeholder:"e.g., client_created, task_completed"})]})]})]}),e.jsx(w,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Actions"}),e.jsxs(t,{variant:"outline",size:"sm",children:[e.jsx(E,{className:"h-4 w-4 mr-2"}),"Add Action"]})]}),e.jsx("div",{className:"space-y-3",children:e.jsx(n,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/20 rounded",children:e.jsx(C,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:"Send Email"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Send welcome email to new client"})]}),e.jsx(t,{variant:"ghost",size:"sm",children:e.jsx(se,{className:"h-4 w-4"})})]})})})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(t,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),e.jsx(t,{onClick:()=>{v({title:"Workflow Created",description:"Your new workflow has been saved as a draft."}),x(!1)},children:"Create Workflow"})]})]})]})]})]}),e.jsxs(F,{value:H,onValueChange:V,children:[e.jsxs(Y,{className:"grid w-full grid-cols-3",children:[e.jsx(g,{value:"workflows",children:"Workflows"}),e.jsx(g,{value:"templates",children:"Templates"}),e.jsx(g,{value:"logs",children:"Execution Logs"})]}),e.jsx(h,{value:"workflows",className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:le.map(s=>e.jsx($,{workflow:s},s.id))})}),e.jsx(h,{value:"templates",className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{name:"Client Onboarding",description:"Welcome new clients with automated emails and task creation",icon:Z,category:"Client Management"},{name:"Task Reminder",description:"Send reminders for overdue or upcoming tasks",icon:T,category:"Task Management"},{name:"Weekly Reports",description:"Generate and distribute weekly progress reports",icon:W,category:"Reporting"},{name:"Data Sync",description:"Synchronize data between different systems",icon:O,category:"Integration"}].map((s,r)=>e.jsxs(n,{className:"border-0 shadow-lg hover:shadow-xl transition-shadow cursor-pointer",children:[e.jsx(u,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900/20 rounded-lg",children:e.jsx(s.icon,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),e.jsxs("div",{children:[e.jsx(j,{className:"text-lg",children:s.name}),e.jsx(d,{variant:"secondary",className:"mt-1",children:s.category})]})]})}),e.jsxs(p,{children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4",children:s.description}),e.jsx(t,{variant:"outline",className:"w-full",children:"Use Template"})]})]},r))})}),e.jsx(h,{value:"logs",className:"mt-6",children:e.jsxs(n,{className:"border-0 shadow-lg",children:[e.jsx(u,{children:e.jsx(j,{children:"Execution History"})}),e.jsx(p,{children:e.jsx("div",{className:"space-y-4",children:[{workflow:"Client Onboarding Automation",status:"success",timestamp:new Date("2024-01-22T14:30:00"),duration:"2.3s"},{workflow:"Weekly Progress Reports",status:"success",timestamp:new Date("2024-01-22T09:00:00"),duration:"45.2s"},{workflow:"Client Onboarding Automation",status:"failed",timestamp:new Date("2024-01-21T16:15:00"),duration:"1.8s"}].map((s,r)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s.status==="success"?"bg-green-500":"bg-red-500"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.workflow}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.timestamp.toLocaleString()," â€¢ ",s.duration]})]})]}),e.jsx(d,{variant:s.status==="success"?"default":"destructive",children:s.status})]},r))})})]})})]}),a&&e.jsx(I,{open:!!a,onOpenChange:()=>o(null),children:e.jsxs(P,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(M,{children:e.jsxs(z,{className:"flex items-center gap-3",children:[e.jsx(q,{className:"h-6 w-6"}),a.name,e.jsx(d,{className:N(a.status),children:a.status})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:a.description}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a.runCount}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Runs"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:[a.successRate,"%"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Success Rate"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:((k=a.lastRun)==null?void 0:k.toLocaleDateString())||"Never"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Last Run"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Workflow Steps"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/40 rounded",children:(()=>{const s=b(a.trigger.type);return e.jsx(s,{className:"h-4 w-4 text-blue-600 dark:text-blue-400"})})()}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:["Trigger: ",a.trigger.type]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.trigger.config.event||a.trigger.config.schedule||"Manual execution"})]})]}),a.actions.map((s,r)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx("div",{className:"p-2 bg-gray-100 dark:bg-gray-700 rounded",children:(()=>{const l=U(s.type);return e.jsx(l,{className:"h-4 w-4 text-gray-600 dark:text-gray-400"})})()}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium",children:["Action ",r+1,": ",s.type]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.config.subject||s.config.template||s.type})]})]},s.id))]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(t,{variant:"outline",children:"Edit Workflow"}),e.jsx(t,{children:"Run Now"})]})]})]})})]})})}export{ve as default};
