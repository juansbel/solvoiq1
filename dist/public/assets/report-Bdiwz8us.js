import{h as C,u as S,r as t,j as e,ak as b,am as d,ao as p,I as m,H as w,s as G}from"./index-Dsch-6rs.js";import{A as E}from"./action-button-_bigQsZt.js";import{T as h}from"./textarea-with-copy-CfuLPcBf.js";import{M as D}from"./message-Q1lGs_wZ.js";import"./textarea-dxwQGyzt.js";import"./ai-Jk9rb3ej.js";import"./copy-CaaOG6R5.js";function P(){const u=C(),{toast:a}=S(),[i,g]=t.useState("2024-03-01"),[o,x]=t.useState("2024-03-22"),[r,v]=t.useState(`- Completed initial project phase with 95% client satisfaction
- Successfully delivered design mockups ahead of schedule
- Conducted 3 client meetings with positive feedback
- Resolved 2 critical technical issues
- Onboarded new team member to support project acceleration
- Implemented client-requested feature enhancements
- Exceeded monthly communication targets by 20%`),[n,j]=t.useState(""),[f,l]=t.useState(!1),[y,c]=t.useState(!1),N=async()=>{if(!r.trim()){a({title:"Error",description:"Please enter some highlights for the report",variant:"destructive"});return}l(!0),c(!1);try{const R=await(await G("POST","/api/ai/generate-report",{startDate:i,endDate:o,highlights:r})).json();j(R.report),c(!0),u.invalidateQueries({queryKey:["/api/statistics"]}),a({title:"Success",description:"Report generated successfully!"})}catch{a({title:"Error",description:"Failed to generate report",variant:"destructive"})}finally{l(!1)}};return e.jsx("div",{className:"flex-1 overflow-y-auto p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:b,children:"Generate Report"}),e.jsx("p",{className:"text-slate-600",children:"Create comprehensive client activity reports"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:d,children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Report Details"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(p,{children:"Report Period"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-2",children:[e.jsx(m,{type:"date",value:i,onChange:s=>g(s.target.value)}),e.jsx(m,{type:"date",value:o,onChange:s=>x(s.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"highlights",children:"Key Activities & Highlights"}),e.jsx(h,{value:r,onChange:v,placeholder:"Enter specific points or recent activities to highlight in the report...",rows:8})]})]}),e.jsx(E,{onClick:N,loading:f,variant:"primary",icon:w,className:"w-full mt-4",children:"Generate Report"})]}),e.jsxs("div",{className:d,children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-4",children:"Generated Report"}),e.jsx(h,{value:n,placeholder:"Generated report will appear here...",rows:16,readonly:!0,className:"mb-4 bg-slate-50"}),y&&n&&e.jsx(D,{type:"success",children:"Report generated successfully! Communication count updated."})]})]})]})})}export{P as Report};
